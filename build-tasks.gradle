tasks.withType(Test) {
    useJUnitPlatform()
    testLogging {
        displayGranularity = 2
        events = ["PASSED", "FAILED", "SKIPPED"]
    }
}

test {
    useJUnitPlatform()
}

task testApiRest(type: Test) {
    testClassesDirs = sourceSets.testApiRest.output.classesDirs
    classpath += sourceSets.testApiRest.runtimeClasspath
}

task testSpiPostgres(type: Test) {
    testClassesDirs = sourceSets.testSpiPostgres.output.classesDirs
    classpath += sourceSets.testSpiPostgres.runtimeClasspath
}

sonarqube {
    properties {
        property "sonar.host.url", "http://localhost:9000"
        property "sonar.login", "5904bbad3dafc268395896ce3a44f8305a3e521f"
        property "sonar.projectKey", "portaltek.my-monolith"
    }
}